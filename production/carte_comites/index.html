<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8 />
    <title>Démo Mapbox Alain Juppé</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox.js/v2.2.3/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v2.2.3/mapbox.css' rel='stylesheet' />
    <style>
      body { margin:0; padding:0; }
      #map { position:absolute; top:0; bottom:0; width:100%; }
      .legend span {
        display:block;
        float: left;
        padding-top: 2px;
        height:20px;
        width:20%;
        font-size:9px;
        color:#808080;
        margin-right: 10px;
      }
      .legend label {
        display: block;
        text-align: left;
        padding-bottom:5px;
      }
    </style>
  </head>
  <body>
    <div id='legend' style='display:none;'>
      <strong>Carte des comités AJ pour la France</strong>
      <nav class='legend clearfix'>
        <span style='background:#1087bf;'></span><label>Comité Avec Juppé</label>
        <span style='background:#f86767;'></span><label>Comité Jeunes avec Juppé</label>
      </nav>
    </div>
    <div id='map'></div>
    <script>
      L.mapbox.accessToken = 'pk.eyJ1IjoibWFwYm94YWp4IiwiYSI6ImNpZ3V3dDB2czAwMzl2Zmtyb2JubXJyZGcifQ.lvgfI_Yjd5PRRoi2HB3GQQ';
      // Create a map in the div #map
      var map = L.mapbox.map('map', 'mapboxajx.a6594fec', {maxZoom: 14}).setView([47.66538735632654, 2.900390625], 6).on('ready', function() { map.maxZoom = 14; });
      var featureLayerAJ = L.mapbox.featureLayer()
                          .loadURL('comites_aj.json')
                          .addTo(map);
      var featureLayerJAJ = L.mapbox.featureLayer()
                          .loadURL('comites_jaj.json')
                          .addTo(map);
      map.legendControl.addLegend(document.getElementById('legend').innerHTML);
      </script>
  </body>
</html>
